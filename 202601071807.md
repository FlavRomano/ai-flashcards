---
tags:
  - "#card"
  - evo
  - aif
cards-deck: aif
---

#flashcards/aif/evo3

# Artificial Life
## What's a complex system?
?
A complex system is a **system of systems** that has:
- **simple parts**
	- interactive with their neighbors
- **bottom up control**
	- no central unit
- **emergent behavior**
	- the system itself has patterns
	- that the simple part doesn't have

### What's adaptive complex system? 
?
Evolution of complexity, from apparently deterministic behavior to chaotic dynamics.

## What's Tierra?
?
Simulation in which creatures are self-replicating computer programs

### How competition in Tierra works?
?
Tierra's programs compete for
- CPU time
- RAM space

### How life evolved in Tierra?
?
Tierra wasn't complex, but life complexity emerged with evolution and adaptation:
- **parasitism**
	- program A use program B code to replicate
- **hyper-parasitism**
	- program A stole CPU's from program B
- **sociality**
	- program A and B cooperate and recombine to make program C

## What's Avida?
?
Like Tierra, is a simulation in which the organism are softwares. This time
- organism can ear more CPU
	- by performing mathematical tasks
- it emerged a fitness focused 
	- live long enough to do  something useful

## How logistic map get complex?
?
The logistic map equation is simple and yet predictable $$x_{t+1} = r x_t(1-x_t)$$ by tweaking the parameter $r$ the system moves from **steady** to **periodic** (pattern repetition) to **CHAOS** ![[Pasted image 20260108183505.png]]

### Deterministic rule have always predictable behaviour in Artificial Life context?
?
No, from the logistic map example we learn that 
- even simple and deterministic rules
	- can lead to **UNPREDICTABLE** behavior 
![[Pasted image 20260108183505.png]]

## What's a cellular automata?
?
It's a grid of cells where 
- each cell changes state
	- based on a set of local Update Rules
### Which characteristics define a cellular automata?
?
- **Discrete Space**
	- grid of cells
	- e.g 1D a line, 2D chessboard ...
- **Discrete States**
	- a cell can only be in one of $k$ states at a time
	- e.g $k=2$, 0 dead or 1 alive
- **Discrete Time**
	- every cell updates simultaneously at every tick
- **Local Update Rules**
	- a cell looks a its immediate neighbors
	- doesn't know anything about the rest of the grid
### What's the simplest cellular automata?
?
The Elementary Cellular Automata.
#### What's Elementary CA?
?
It's the simplest cellular automata
- **Discrete Space** = 1D
- **Discrete States** = Dead 0 or Alive 1
- **Local update**, a cell looks at 3 things
	- itself
	- left neighbor
	- right neighbor
##### How Elementary CA decides if a cell will be 0 or 1? hint: Update rule
?
To decide if a cell will be 0 or 1 in the next step, it looks at 3 things: itself, its left neighbor and its right neighbor. $$s^j_{t+1} = f(s^{j-1}_t, s^{j}_t, s^{j+1}_t)$$ and follow a rule based on the bit string e.g 101=0, 001 = 1...

##### What are the possible configuration for a neighborhood?
?
Since 
- there are 3 cells in the neighborhood 
	- each has 2 possible states
- there are $$2^3 = 8$$ possible configurations
##### How the update rule works?
?
A rule defines an output
![[Pasted image 20260107182726.png]]
like a logic gate e.g 111=0, 110=1

##### How many possible Elementary CA rules exists?
?
Rule can be expressed by 8bit number, e.g 111. 
- we have $2^8=256$ possible Elementary CA rules

##### Considering reflection symmetry property, how many admissible Elementary CA rules exists?
?
From $2^8=256$ rules 
- by considering reflection symmetry
	- e.g 110 === 011
- rules collapse to just **$32$ admissible rule**

##### How complexity emerges from simplicity in Elementary CA?
?
Some rules in Elementary CA demonstrate 
- some patterns emerging
	- from randomness
	- self similarity

even with **white noise** as initial state, the noise is cancelled out by the self-organization of the system. IT EVOLVES WELL

##### Which type of rules categorize Elementary CA behaviors? hint: 4 types
?
- Type 1
	- static
- Type 2
	- periodic
- Type 3
	- chaotic
- Type 4
	- complex

###### What's Type 1 rule in ECA?
Static rule
- no matter the starting point
- system dies out or become a solid block
- no information processing

###### What's Type 2 rule in ECA?
?
Periodic rule
- system falls into a simple repeating pattern
- boring and stable

###### What's Type 3 rule in ECA?
?
Chaotic
- remain in a random state
- Sierpinski triangle

###### What's Type 4 rule in ECA?
?
Complex
- form 
	- areas of repetitive or stable states
	- and structures that interact with each other
- universal computation rule 110

##### Which CA rule is Turing Complete?
?
Rule 110, which falls into the Complex class 4 rules.

###### Why CA rule 110 is Turing Complete?
?
If initial row is set up correctly
- logic gates formed by the interaction of patterns
- can run any program possible

### What's game of life?
?
Is a 2D Cellular Automata 
- with only two states Dead (0) or Alive (1)
- with just two rules

##### What are game of life rules?
?
2,3/3 rules
- A living cell stays alive **(2,3 rule)**
	- if has 2 or 3 living neighbors
- A living cell dies
	- if alone (solitude)
	- if has more then 3 neighbors (overpopulation)
- A dead cell becomes alive **(3 rule)**
	- if it has exactly 3 neighbors

##### How a cell survives in game of life?
?
if has 2 or 3 living neighbors (2,3 rule). 

##### How a cell dies in game of life?
?
A living cell dies
- if alone (solitude)
- if has more then 3 neighbors (overpopulation)

##### How a cell born in game of life?
?
A dead cell becomes alive (born) if it has exactly 3 neighbors.

##### Which life-like structures emerge?
- Blinkers
	- oscillate
- Gliders
	- walk across the screen
- Glider guns
	- can create other structures

##### How can be formalize the game of life?
Mathematical tuple $$CA = (L,T,S,N,\phi)$$ 
- $L$ d-dimensional lattice (the grid)
- $T$ the timeline
- $S=\{0,1\}$ state set
- $N$ neighborhood
- $\phi$ local update rule
	- $\Phi$ global update rule

##### How can we formalize game of life rules?
Considering $A^t$ the **collection of states** from all cells at time $t$, we define
- $A^t(x)$ the cell $x$
-  $\sum_{n\in N(x)} A^t(x+n)$ the `neighborhood_statuses(x)`

for binary cell and discrete lattice we have 
- if `living_condition(neighborhood(x))`
	- then $A^{t+1}(x) = 1$
- else $0$

### What's LENIA?
?
Is essentially continuous game of life. Instead of cell with binary values, 
- Lenia's cells have a value between 0 and 1
- space and time also become continuous

the simple **counting of neighbors** is replace by calculus and convolutions.

#### How cell's states are represented in LENIA?
?
Cells have value between 0 and 1, a cell can be 0.5 alive

#### How time is represented in LENIA
?
Time is continuous, $t$ have tiny increments $\Delta t$

#### How space is represented in LENIA?
?
Space is continuous, cells are so small they act like a fluid.

#### How LENIA updates a cell?
?
After a cell grows the update comes
- add the growth to the current state
- then clip it so it stays between 0 and 1 $$A^{t + \Delta t} = clip(A^t + \Delta t G(U))$$

#### How LENIA uses kernel? hint: convolution
?
Using Kernel and convolution, given a cell $x$ Lenia can
- do a weighted average of all cells around $x$
	- that's the potential $U$ of $x$ neighborhood
- if the potential meets a specific range
	- the cell grows

##### What's the shape of the kernel?
?
It depends on the kernel used
- A normalized kernel
	- popular
	- as kernel core shaped like Gaussian bell

#### In LENIA what's cell potential?
?
By convolution operation, Lenia apply kernel $K$ to cell $A^t(x)$. The result is a weighted average of all cells around $x$, that's the potential $U^t(x)$ of $x$.

#### How cell grows in LENIA?
?
If cell potential $U^t(x)$ is within a certain range, then the cell grows. Otherwise dies
- less than a threshold
	- dies of solitude
- more than a threshold
	- dies of overpopulation

##### What's the growth function $G(U)$?
?
Is the function that implements the "within a certain range of potential" behavior for cell grows.
- if the potential $U$ 
	- is **exactly** at a certain value $\mu$ (the growth center)
	- the cell grows at its **maximum rate**

##### What's the cell update rule in LENIA?
?
Current state plus growth function scaled by time, then clip it between 0 and 1 $$A^{t + \Delta t} = clip(A^t + \Delta t G(U))$$

#### What's extended LENIA?
?
Lenia but with more layers, from single specie to a whole ecosystem
- **multiple kernels**
	- each has a relative radius and growth mapping
	- chaoticity increases
- **multiple channels**
	- each channel specialize for a role (species)
	- different species of patterns
	- can interact through cross-channel convolutions

##### What's something that extended LENIA exhibits but not LENIA?
?
Self replication (like mitosis)
- self-organizing structures splits in two
	- and then they repel each other

### What's Neural Cellular Automata?
?
In NCA the network **learn** the rules
- we tell the system what we want it to achieve
- then the system uses gradient descent
	- to figure out what it need
	- to get at the desired goal

Every single cell runs the same tiny neural network.

#### What's the main difference between Neural Cellular Automata and CA?
?
Plenty
>
|**Feature**|**Traditional CA**|**Neural CA (NCA)**|
|---|---|---|
|**Rule Source**|Hand-designed (Logic)|Learned (Neural Network)|
|**State Space**|Often Binary/Discrete|Multi-channel Continuous|
|**Update Rule**|Fixed, static rules|Trainable parameters (Weights)|
|**Goal**|Observe emergent behavior|Solve a specific task (e.g., Generation)|
|**Resilience**|Brittle (sensitive to changes)|Highly Robust (Self-repairing)|

#### How a cell is structured in Neural Cellular Automata?
?
A cell is a vector of 16 real numbers. They are grouped in **channel**
- 1-3
- 4
- 5-16
##### In a cell of a Neural Cellular Automata what's inside channels 1 to 3?
?
Are RGB coordinates, so each cell has a specific color.

##### In a cell of a Neural Cellular Automata what's inside channel 4?
?
It's the **alpha** channel ![[Pasted image 20260109173052.png]] 
>
|$\alpha$| cell state|
| :----------| :-----------|
| $>0.1$ | alive | 
| $<0.1$ | growing | 
| $0$ | empty | 

##### When a cell of Neural Cellular Automata is alive?
?
When it's $\alpha$ channel is more than 0.1 $$\alpha > 0.1 \implies x\text{ alive}$$

##### In a cell of a Neural Cellular Automata what's inside channels 5 to 16?
?
They are **hidden channel**, they can carry various information but they don't have a predefined meaning. For example:
- electric concentrations
- chemical signals for growth


#### What are the two phases of cell update process?
?
1. Perception phase
2. Update rule

##### How perception phase works?
?
Each cell see its neighbors via convolution ![[Pasted image 20260109175819.png]]
- using fixed Kernels (Sobel filter)
	- estimating gradient for each channel
- and an identity kernel for itself

the result is a perception vector of $16\cdot 3 = 48$ numbers

##### What's the perception vector?
?
It's a vector made by the concatenation of gradients with the cells own states.

###### In perception phase, which fixed kernel use and how it works? 
?
Use Sobel filters for neighborhood convolution 
- to estimate partial derivaties of cell in the $\vec x$ and $\vec y$
- forming a 2D gradient vector 
	- in each direction
	- for each state channel

##### How update phase works?
?
The perception vector is fed into a small multilayer perceptron ![[Pasted image 20260109180632.png]] that outputs a residue $\Delta s$ 
> How much the cell should change its 16 values

##### Does each cell have a different update rule?
?
No, all cells share the same update rule. The update rule is learned but they run all the same.

##### Why the update rule use stochastic update?
?
To mimic the noise of biological systems.

##### How the stochastic update works?
?
Each cell perform the update **INDEPENDENTLY**, waiting for a random time. They implement this by
- a random per-cell mask to update vector
	- with a probability of 50% to update at each step
- it's like a per-cell dropout to update vectors

#### How they trained the NCA?
?
![[Pasted image 20260109182642.png]]
Iteratively apply the update rule, then
- sample a random number of CA steps for each training step
	- we want the pattern to be stable across a number of iterations
- at the last step we compute the loss
	- between the actual grid
	- and the target pattern

##### What is the "seen" window?
?
It's the number of steps used during training, where the grow patterns are stable and converge.

##### What happen in the "unseen" window?
?
Undefined behaviour. More steps used than training. 
- some tend to die out
- some doesn't seems to stop growing
- some becomes stable

##### How do we prevent an NCA from 'melting' or 'exploding' after the training window?
?
Using a sample pool strategy 
- the model is more likely to create an attractor for the target shape
	- even after several epochs in the unseen window
	- the CA is stable

##### What is the 'Sample Pool' in NCA training?
?
Initially we define a pool of seed states to start the iterations from
- then we sample a batch from this pool
	- which we use in our training step
- if it starts to decay
	- we replace one sample in this batch with the original
- after the training step
	- we replace samples in the pool
		- with the output states
		- from the training step over this batch

##### How is an NCA trained to be robust to damage/trauma?
?
If we delete some cells
- the neighbors will sense the wound and the missing cells (via the Kernels)
- they grow them again
	- with the rule they learned

#### In self-classifying MNIST, how do cells reach a decision?
Via agreement between cells
 ![[Pasted image 20260109184953.png]] every 200 steps every cell reach a consensus. So that the entire system decides which number they are looking at.


